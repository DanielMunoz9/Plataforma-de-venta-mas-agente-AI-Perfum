<!-- templates/admin/ofertas/editar_oferta.html -->
{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <h2>Editar Oferta: {{ oferta.titulo }}</h2>
  <form method="POST">
    <div class="mb-3">
      <label for="titulo" class="form-label">Título</label>
      <input type="text" class="form-control" id="titulo" name="titulo" value="{{ oferta.titulo }}" required>
    </div>
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea class="form-control" id="descripcion" name="descripcion" rows="3">{{ oferta.descripcion }}</textarea>
    </div>
    <div class="mb-3">
      <label for="descuento" class="form-label">Descuento (%)</label>
      <input type="number" step="0.01" class="form-control" id="descuento" name="descuento" value="{{ oferta.descuento_porcentaje }}" required>
    </div>
    <div class="mb-3">
      <label for="fecha_inicio" class="form-label">Fecha de inicio</label>
      <input type="date" class="form-control" id="fecha_inicio" name="fecha_inicio" value="{{ oferta.fecha_inicio }}" required>
    </div>
    <div class="mb-3">
      <label for="fecha_fin" class="form-label">Fecha de fin</label>
      <input type="date" class="form-control" id="fecha_fin" name="fecha_fin" value="{{ oferta.fecha_fin }}" required>
    </div>
    <div class="mb-3">
      <label for="productos" class="form-label">Productos en oferta</label>
      <select multiple class="form-control" name="productos">
        {% for producto in productos %}
        <option value="{{ producto.id }}"
          {% if producto.id in productos_oferta %} selected {% endif %}>
          {{ producto.nombre }}
        </option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    <a href="{{ url_for('admin_oferta_bp.ver_ofertas') }}" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
{% endblock %}
